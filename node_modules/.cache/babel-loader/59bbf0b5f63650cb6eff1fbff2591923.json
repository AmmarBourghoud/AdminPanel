{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\abourgho\\\\Desktop\\\\ETNA\\\\GPE\\\\group-690338\\\\AdminPanel\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\abourgho\\\\Desktop\\\\ETNA\\\\GPE\\\\group-690338\\\\AdminPanel\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"C:\\\\Users\\\\abourgho\\\\Desktop\\\\ETNA\\\\GPE\\\\group-690338\\\\AdminPanel\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\abourgho\\\\Desktop\\\\ETNA\\\\GPE\\\\group-690338\\\\AdminPanel\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"C:\\\\Users\\\\abourgho\\\\Desktop\\\\ETNA\\\\GPE\\\\group-690338\\\\AdminPanel\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Users\\\\abourgho\\\\Desktop\\\\ETNA\\\\GPE\\\\group-690338\\\\AdminPanel\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\abourgho\\\\Desktop\\\\ETNA\\\\GPE\\\\group-690338\\\\AdminPanel\\\\src\\\\views\\\\Signals\\\\Signal.js\";\nimport React, { Component } from 'react';\nimport { Card, CardBody, CardHeader, Col, Row, Table } from 'reactstrap'; // import wretch from 'wretch';\n\nimport Moment from 'moment';\nimport mapboxgl from 'mapbox-gl'; // import { relative } from 'path';\n\nimport { loadSignal, loadSignal_author, loadSignal_comments } from '../../api/functions/SignalsFunctions';\nimport { MAP_TOKEN, MAP_IMAGE } from '../../api/paths/index';\n\nvar Signal = /*#__PURE__*/function (_Component) {\n  _inherits(Signal, _Component);\n\n  var _super = _createSuper(Signal);\n\n  function Signal(props) {\n    var _this;\n\n    _classCallCheck(this, Signal);\n\n    _this = _super.call(this, props);\n    _this._isMounted = false;\n    _this.state = {\n      item: {},\n      user: {},\n      comments: {},\n      isLoading: false,\n      map: null\n    };\n    return _this;\n  }\n\n  _createClass(Signal, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this._isMounted = true;\n      mapboxgl.accessToken = MAP_TOKEN;\n      loadSignal(this.props.match.params.id).then(function (response) {\n        if (_this2._isMounted) _this2.setState({\n          isLoading: true\n        });\n\n        if (response) {\n          var map = new mapboxgl.Map({\n            container: _this2.Mapcontainer,\n            style: 'mapbox://styles/mapbox/streets-v9',\n            center: [response.data.localization.long, response.data.localization.int],\n            zoom: 16\n          });\n          map.on(\"load\", function () {\n            map.loadImage(MAP_IMAGE, function (error, image) {\n              if (error) throw error;\n              map.addImage(\"custom-marker\", image);\n              map.addLayer({\n                id: \"markers\",\n                type: \"symbol\",\n                source: {\n                  type: \"geojson\",\n                  data: {\n                    type: 'FeatureCollection',\n                    features: [{\n                      type: 'Feature',\n                      properties: {},\n                      geometry: {\n                        type: \"Point\",\n                        coordinates: [response.data.localization.long, response.data.localization.int]\n                      }\n                    }]\n                  }\n                },\n                layout: {\n                  \"icon-image\": \"custom-marker\"\n                }\n              });\n            });\n          });\n          loadSignal_author(response.data.author).then(function (resUser) {\n            if (_this2._isMounted) {\n              if (resUser) _this2.setState({\n                user: resUser.data,\n                item: response.data\n              });else _this2.setState({\n                user: null,\n                item: response.data\n              });\n            }\n          });\n          loadSignal_comments(_this2.props.match.params.id).then(function (resComments) {\n            if (_this2._isMounted) _this2.setState({\n              isLoading: false,\n              comments: resComments.data\n            });\n          });\n        }\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._isMounted = false;\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function () {\n      var _componentDidUpdate = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(prevProps, prevState, snapshot) {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!(prevProps.match.params.id !== this.props.match.params.id)) {\n                  _context.next = 3;\n                  break;\n                }\n\n                _context.next = 3;\n                return this.loadSignal();\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function componentDidUpdate(_x, _x2, _x3) {\n        return _componentDidUpdate.apply(this, arguments);\n      }\n\n      return componentDidUpdate;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$state = this.state,\n          signal = _this$state.item,\n          user = _this$state.user,\n          comments = _this$state.comments,\n          map = _this$state.map;\n      var listItems;\n      var commentList = this.state;\n\n      if (commentList.comments.length > 0) {\n        commentList = commentList.comments;\n        listItems = commentList.map(function (item, i) {\n          return /*#__PURE__*/React.createElement(Card, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 11\n            }\n          }, /*#__PURE__*/React.createElement(CardBody, {\n            key: i,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 13\n            }\n          }, item.author.firstName, \" \", item.author.lastName, \"  \", /*#__PURE__*/React.createElement(\"br\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 63\n            }\n          }), Moment(item.date).format('DD/MM/YY à HH:mm'), \" \", /*#__PURE__*/React.createElement(\"br\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 62\n            }\n          }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 69\n            }\n          }), item.comment));\n        });\n      } else listItems = \"Pas de commentaires pour l'instant.\";\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"animated fadeIn\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"divSameHeight\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        lg: 6,\n        className: \"sameHeight\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        className: \"fullHeight\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(CardHeader, {\n        className: \"card card-accent-primary mb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"icon-info pr-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 27\n        }\n      }), \"Signalement\")), /*#__PURE__*/React.createElement(CardBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Table, {\n        responsive: true,\n        striped: true,\n        hover: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"tbody\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 25\n        }\n      }, \"Identifiant du signalement\"), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 25\n        }\n      }, signal._id)), /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 25\n        }\n      }, \"Nom\"), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 25\n        }\n      }, signal.name)), /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 25\n        }\n      }, \"Cat\\xE9gorie\"), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 25\n        }\n      }, signal.category)), /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 25\n        }\n      }, \"Description\"), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 25\n        }\n      }, signal.description)), /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 25\n        }\n      }, \"Ville\"), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 25\n        }\n      }, signal.city)), /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 25\n        }\n      }, \"Status\"), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 25\n        }\n      }, signal.status)), /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 25\n        }\n      }, \"Date\"), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 25\n        }\n      }, Moment(signal.date).format('DD/MM/YY à HH:mm'))), /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 25\n        }\n      }, \"Date de cr\\xE9ation\"), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 25\n        }\n      }, Moment(signal.created_date).format('DD/MM/YY à HH:mm'))), /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 25\n        }\n      }, \"Derni\\xE8re mis \\xE0 jour\"), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 25\n        }\n      }, Moment(signal.last_update).format('DD/MM/YY à HH:mm')))))))), /*#__PURE__*/React.createElement(Col, {\n        lg: 6,\n        className: \"sameHeight\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        className: \"fullHeight\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(CardHeader, {\n        className: \"card card-accent-warning mb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"icon-info pr-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 27\n        }\n      }), \"Localisation\")), /*#__PURE__*/React.createElement(CardBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"MapContent\",\n        ref: function ref(x) {\n          _this3.Mapcontainer = x;\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 17\n        }\n      }))))), /*#__PURE__*/React.createElement(Col, {\n        lg: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(CardHeader, {\n        className: \"card card-accent-success mb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"icon-info pr-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 25\n        }\n      }), \"Auteur du signalement\")), /*#__PURE__*/React.createElement(CardBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Table, {\n        responsive: true,\n        striped: true,\n        hover: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"thead\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        scope: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 21\n        }\n      }, \"Nom\"), /*#__PURE__*/React.createElement(\"th\", {\n        scope: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 21\n        }\n      }, \"Email\"), /*#__PURE__*/React.createElement(\"th\", {\n        scope: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 21\n        }\n      }, \"Num\\xE9ro de t\\xE9l\\xE9phone\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        key: user ? user._id : \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 27\n        }\n      }, user ? user.firstName + \" \" + user.lastName : \"Pas d'informations disponible\")), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 23\n        }\n      }, user ? user.email : \"\"), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 23\n        }\n      }, user ? user.phone : \"\"))))))), /*#__PURE__*/React.createElement(Col, {\n        lg: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(CardHeader, {\n        className: \"card card-accent-danger mb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"icon-info pr-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 25\n        }\n      }), \"Commentaires\")), /*#__PURE__*/React.createElement(CardBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 15\n        }\n      }, listItems)))));\n    }\n  }]);\n\n  return Signal;\n}(Component);\n\nexport default Signal;","map":{"version":3,"sources":["C:/Users/abourgho/Desktop/ETNA/GPE/group-690338/AdminPanel/src/views/Signals/Signal.js"],"names":["React","Component","Card","CardBody","CardHeader","Col","Row","Table","Moment","mapboxgl","loadSignal","loadSignal_author","loadSignal_comments","MAP_TOKEN","MAP_IMAGE","Signal","props","_isMounted","state","item","user","comments","isLoading","map","accessToken","match","params","id","then","response","setState","Map","container","Mapcontainer","style","center","data","localization","long","int","zoom","on","loadImage","error","image","addImage","addLayer","type","source","features","properties","geometry","coordinates","layout","author","resUser","resComments","prevProps","prevState","snapshot","signal","listItems","commentList","length","i","firstName","lastName","date","format","comment","_id","name","category","description","city","status","created_date","last_update","x","email","phone"],"mappings":"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","sourcesContent":["\r\nimport React, { Component } from 'react';\r\nimport {Card, CardBody, CardHeader, Col, Row, Table} from 'reactstrap';\r\n// import wretch from 'wretch';\r\nimport Moment from 'moment';\r\nimport mapboxgl from 'mapbox-gl'\r\n// import { relative } from 'path';\r\nimport { loadSignal, loadSignal_author, loadSignal_comments } from '../../api/functions/SignalsFunctions'\r\nimport { MAP_TOKEN, MAP_IMAGE } from '../../api/paths/index'\r\n\r\n\r\nclass Signal extends Component {\r\n  _isMounted = false;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      item: {},\r\n      user: {},\r\n      comments: {},\r\n      isLoading: false,\r\n      map: null\r\n    };\r\n  }\r\n\r\n   componentDidMount() {\r\n    this._isMounted = true;\r\n    mapboxgl.accessToken = MAP_TOKEN;\r\n\r\n    loadSignal(this.props.match.params.id).then(response => {\r\n      if (this._isMounted)\r\n        this.setState({\r\n          isLoading: true\r\n        });\r\n    if (response) {\r\n      var map = new mapboxgl.Map({\r\n          container: this.Mapcontainer,\r\n          style: 'mapbox://styles/mapbox/streets-v9',\r\n          center: [response.data.localization.long, response.data.localization.int],\r\n          zoom: 16\r\n      });\r\n      map.on(\"load\", function () {\r\n          map.loadImage(MAP_IMAGE, function(error, image) {\r\n            if (error) throw error;\r\n            map.addImage(\"custom-marker\", image);\r\n            map.addLayer({\r\n              id: \"markers\",\r\n              type: \"symbol\",\r\n              source: {\r\n                type: \"geojson\",\r\n                data: {\r\n                  type: 'FeatureCollection',\r\n                  features: [\r\n                    {\r\n                      type: 'Feature',\r\n                      properties: {},\r\n                      geometry: {\r\n                      type: \"Point\",\r\n                      coordinates: [response.data.localization.long, response.data.localization.int]\r\n                      }\r\n                    }\r\n                  ]\r\n                }\r\n              },\r\n              layout: {\r\n                \"icon-image\": \"custom-marker\",\r\n              }\r\n            });\r\n          });\r\n        });\r\n        loadSignal_author(response.data.author).then(resUser => {\r\n          if (this._isMounted) {\r\n            if (resUser)\r\n            this.setState({\r\n              user: resUser.data,\r\n              item: response.data,\r\n              });\r\n            else\r\n            this.setState({\r\n              user: null,\r\n              item: response.data,\r\n              });\r\n            }\r\n          });\r\n\r\n        loadSignal_comments(this.props.match.params.id).then(resComments => {\r\n          if (this._isMounted)\r\n          this.setState({\r\n            isLoading: false,\r\n            comments: resComments.data\r\n            });\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this._isMounted = false;\r\n  }\r\n\r\n  async componentDidUpdate(prevProps, prevState, snapshot) {\r\n    if (prevProps.match.params.id !== this.props.match.params.id)\r\n      await this.loadSignal()\r\n  }\r\n\r\n  render() {\r\n    const {item: signal, user: user, comments:comments, map: map} = this.state\r\n\r\n\r\n\r\n    let listItems\r\n    let commentList = this.state\r\n    if (commentList.comments.length > 0) {\r\n        commentList = commentList.comments\r\n        listItems = commentList.map(function(item, i){\r\n          return(\r\n          <Card>\r\n            <CardBody key={i}>\r\n              {item.author.firstName} {item.author.lastName}  <br />\r\n              {Moment(item.date).format('DD/MM/YY à HH:mm')} <br /> <br />\r\n\r\n              {item.comment}\r\n            </CardBody>\r\n          </Card>);\r\n        })\r\n    }\r\n    else listItems = \"Pas de commentaires pour l'instant.\"\r\n\r\n    return (\r\n      <div className=\"animated fadeIn\">\r\n        <Row>\r\n          <div className=\"divSameHeight\">\r\n            <Col lg={6} className=\"sameHeight\">\r\n              <Card  className=\"fullHeight\">\r\n                <CardHeader className=\"card card-accent-primary mb-3\">\r\n                  <strong><i className=\"icon-info pr-1\"></i>Signalement</strong>\r\n                </CardHeader>\r\n                <CardBody>\r\n                  <Table responsive striped hover>\r\n                    <tbody>\r\n                    {/*<tr>*/}\r\n                      <tr>\r\n                        <th>Identifiant du signalement</th>\r\n                        <td>{signal._id}</td>\r\n                      </tr>\r\n                      <tr>\r\n                        <th>Nom</th>\r\n                        <td>{signal.name}</td>\r\n                      </tr>\r\n                      <tr>\r\n                        <th>Catégorie</th>\r\n                        <td>{signal.category}</td>\r\n                      </tr>\r\n                      <tr>\r\n                        <th>Description</th>\r\n                        <td>{signal.description}</td>\r\n                      </tr>\r\n                      <tr>\r\n                        <th>Ville</th>\r\n                        <td>{signal.city}</td>\r\n                      </tr>\r\n                      <tr>\r\n                        <th>Status</th>\r\n                        <td>{signal.status}</td>\r\n                      </tr>\r\n                      <tr>\r\n                        <th>Date</th>\r\n                        <td>{Moment(signal.date).format('DD/MM/YY à HH:mm')}</td>\r\n                      </tr>\r\n                      <tr>\r\n                        <th>Date de création</th>\r\n                        <td>{Moment(signal.created_date).format('DD/MM/YY à HH:mm')}</td>\r\n                      </tr>\r\n                      <tr>\r\n                        <th>Dernière mis à jour</th>\r\n                        <td>{Moment(signal.last_update).format('DD/MM/YY à HH:mm')}</td>\r\n                      </tr>\r\n                    </tbody>\r\n                  </Table>\r\n                </CardBody>\r\n              </Card>\r\n            </Col>\r\n\r\n            <Col lg={6}  className=\"sameHeight\">\r\n              <Card className=\"fullHeight\">\r\n                <CardHeader className=\"card card-accent-warning mb-3\" >\r\n                  <strong><i className=\"icon-info pr-1\"></i>Localisation</strong>\r\n                </CardHeader>\r\n                <CardBody >\r\n                <div className='MapContent' ref={(x) => { this.Mapcontainer = x }}></div>\r\n                </CardBody>\r\n              </Card>\r\n            </Col>\r\n          </div>\r\n\r\n          <Col lg={12}>\r\n            <Card>\r\n              <CardHeader className=\"card card-accent-success mb-3\">\r\n                <strong><i className=\"icon-info pr-1\"></i>Auteur du signalement</strong>\r\n              </CardHeader>\r\n              <CardBody>\r\n                <Table responsive striped hover>\r\n                  <thead>\r\n                  <tr>\r\n                    <th scope=\"col\">Nom</th>\r\n                    <th scope=\"col\">Email</th>\r\n                    <th scope=\"col\">Numéro de téléphone</th>\r\n                  </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    <tr key={user ? user._id: \"\"}>\r\n                      <td><strong>{user ? user.firstName  + \" \" + user.lastName : \"Pas d'informations disponible\"}</strong></td>\r\n                      <td>{user ? user.email: \"\"}</td>\r\n                      <td>{user ? user.phone: \"\"}</td>\r\n                    </tr>\r\n                  </tbody>\r\n                </Table>\r\n              </CardBody>\r\n            </Card>\r\n          </Col>\r\n\r\n          <Col lg={12}>\r\n            <Card>\r\n              <CardHeader className=\"card card-accent-danger mb-3\">\r\n                <strong><i className=\"icon-info pr-1\"></i>Commentaires</strong>\r\n              </CardHeader>\r\n              <CardBody>\r\n                {listItems}\r\n              </CardBody>\r\n            </Card>\r\n          </Col>\r\n\r\n        </Row>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Signal;\r\n"]},"metadata":{},"sourceType":"module"}