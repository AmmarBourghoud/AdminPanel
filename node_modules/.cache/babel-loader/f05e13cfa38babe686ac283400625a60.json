{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\abourgho\\\\Desktop\\\\ETNA\\\\GPE\\\\group-690338\\\\AdminPanel\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\abourgho\\\\Desktop\\\\ETNA\\\\GPE\\\\group-690338\\\\AdminPanel\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this;\n\nimport axios from 'axios';\nimport { BASE_PATH, SIGNALS, SIGNAL, SIGNAL_ATHOR } from '../paths/index';\nexport function loadSignals(page, bearer) {\n  return axios.get(BASE_PATH + SIGNALS, {\n    headers: {\n      Authorization: \"Bearer \".concat(bearer)\n    }\n  }).then(function (response) {\n    console.log(response);\n    return response;\n  }).catch(function (err) {\n    console.log(err);\n  });\n}\n\nloadSignal = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            return _context.abrupt(\"return\", new Promise(function (resolve, reject) {\n              if (_this._isMounted) _this.setState({\n                isLoading: true\n              });\n              wretch().auth(\"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZGI4MTIzOWRmN2U2ZDRiNjgwZjQyZTEiLCJpYXQiOjE2MDA3Nzk3ODZ9.pmNOT1kl1a-ylGCOudg8JVabUOAuW3gRjuh2zSCmruQ\").url(\"http://localhost:8080/signal/\".concat(_this.props.match.params.id)).get().notFound(function () {\n                _this.props.history.push('/signal');\n\n                console.log('notFound');\n                reject();\n              }).json(function (res) {\n                console.log('res', res);\n                wretch().auth(\"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZGI4MTIzOWRmN2U2ZDRiNjgwZjQyZTEiLCJpYXQiOjE2MDA3Nzk3ODZ9.pmNOT1kl1a-ylGCOudg8JVabUOAuW3gRjuh2zSCmruQ\").url(\"http://localhost:8080/user/\".concat(res.author)).get().json(function (resUser) {\n                  if (_this._isMounted) _this.setState({\n                    user: resUser\n                  });\n                });\n                if (_this._isMounted) _this.setState({\n                  isLoading: false,\n                  item: res\n                });\n                resolve();\n              }).catch(function (err) {\n                console.log('err', err);\n                reject();\n              });\n            }));\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function loadSignal() {\n    return _ref.apply(this, arguments);\n  };\n}();","map":{"version":3,"sources":["C:/Users/abourgho/Desktop/ETNA/GPE/group-690338/AdminPanel/src/api/functions/SignalsFunctions.js"],"names":["axios","BASE_PATH","SIGNALS","SIGNAL","SIGNAL_ATHOR","loadSignals","page","bearer","get","headers","Authorization","then","response","console","log","catch","err","loadSignal","Promise","resolve","reject","_isMounted","setState","isLoading","wretch","auth","url","props","match","params","id","notFound","history","push","json","res","author","resUser","user","item"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,EAAoBC,OAApB,EAA6BC,MAA7B,EAAqCC,YAArC,QAAyD,gBAAzD;AAEA,OAAO,SAASC,WAAT,CAAqBC,IAArB,EAA0BC,MAA1B,EAAiC;AACtC,SAAOP,KAAK,CACRQ,GADG,CACCP,SAAS,GAAGC,OADb,EACsB;AAC1BO,IAAAA,OAAO,EAAE;AAAEC,MAAAA,aAAa,mBAAYH,MAAZ;AAAf;AADiB,GADtB,EAIHI,IAJG,CAIE,UAAAC,QAAQ,EAAI;AAChBC,IAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACA,WAAOA,QAAP;AACE,GAPA,EAQFG,KARE,CAQI,UAAAC,GAAG,EAAI;AACTH,IAAAA,OAAO,CAACC,GAAR,CAAYE,GAAZ;AACJ,GAVE,CAAP;AAWD;;AAGDC,UAAU;AAAA,sEAAG;AAAA;AAAA;AAAA;AAAA;AAAA,6CACJ,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC,kBAAI,KAAI,CAACC,UAAT,EACE,KAAI,CAACC,QAAL,CAAc;AACZC,gBAAAA,SAAS,EAAE;AADC,eAAd;AAGFC,cAAAA,MAAM,GACJC,IADF,iKAEGC,GAFH,wCAEuC,KAAI,CAACC,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBC,EAF/D,GAGGtB,GAHH,GAIGuB,QAJH,CAIY,YAAM;AACd,gBAAA,KAAI,CAACJ,KAAL,CAAWK,OAAX,CAAmBC,IAAnB,CAAwB,SAAxB;;AACApB,gBAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACAM,gBAAAA,MAAM;AACP,eARH,EASGc,IATH,CASQ,UAAAC,GAAG,EAAI;AACXtB,gBAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBqB,GAAnB;AACAX,gBAAAA,MAAM,GACLC,IADD,iKAEGC,GAFH,sCAEqCS,GAAG,CAACC,MAFzC,GAGG5B,GAHH,GAIG0B,IAJH,CAIQ,UAAAG,OAAO,EAAI;AACf,sBAAI,KAAI,CAAChB,UAAT,EACA,KAAI,CAACC,QAAL,CAAc;AACZgB,oBAAAA,IAAI,EAAED;AADM,mBAAd;AAGD,iBATH;AAUA,oBAAI,KAAI,CAAChB,UAAT,EACA,KAAI,CAACC,QAAL,CAAc;AACZC,kBAAAA,SAAS,EAAE,KADC;AAEZgB,kBAAAA,IAAI,EAAEJ;AAFM,iBAAd;AAIAhB,gBAAAA,OAAO;AACR,eA3BH,EA4BGJ,KA5BH,CA4BS,UAAAC,GAAG,EAAI;AACZH,gBAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBE,GAAnB;AACAI,gBAAAA,MAAM;AACP,eA/BH;AAgCD,aArCM,CADI;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA;AAAA;AAAA;AAAA,GAAV","sourcesContent":["import axios from 'axios'\r\nimport { BASE_PATH, SIGNALS, SIGNAL, SIGNAL_ATHOR } from '../paths/index'\r\n\r\nexport function loadSignals(page,bearer){\r\n  return axios\r\n     .get(BASE_PATH + SIGNALS, {\r\n     headers: { Authorization: `Bearer ${bearer}` }\r\n    })\r\n     .then(response => {\r\n       console.log(response);\r\n       return response\r\n        })\r\n      .catch(err => {\r\n           console.log(err)\r\n      })\r\n}\r\n\r\n\r\nloadSignal = async () => {\r\n  return new Promise((resolve, reject) => {\r\n    if (this._isMounted)\r\n      this.setState({\r\n        isLoading: true\r\n      });\r\n    wretch()\r\n     .auth(`Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZGI4MTIzOWRmN2U2ZDRiNjgwZjQyZTEiLCJpYXQiOjE2MDA3Nzk3ODZ9.pmNOT1kl1a-ylGCOudg8JVabUOAuW3gRjuh2zSCmruQ`)\r\n      .url(`http://localhost:8080/signal/${this.props.match.params.id}`)\r\n      .get()\r\n      .notFound(() => {\r\n        this.props.history.push('/signal');\r\n        console.log('notFound');\r\n        reject()\r\n      })\r\n      .json(res => {\r\n        console.log('res', res)\r\n        wretch()\r\n        .auth(`Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZGI4MTIzOWRmN2U2ZDRiNjgwZjQyZTEiLCJpYXQiOjE2MDA3Nzk3ODZ9.pmNOT1kl1a-ylGCOudg8JVabUOAuW3gRjuh2zSCmruQ`)\r\n          .url(`http://localhost:8080/user/${res.author}`)\r\n          .get()\r\n          .json(resUser => {\r\n            if (this._isMounted)\r\n            this.setState({\r\n              user: resUser,\r\n            });\r\n          });\r\n        if (this._isMounted)\r\n        this.setState({\r\n          isLoading: false,\r\n          item: res,\r\n        });\r\n        resolve()\r\n      })\r\n      .catch(err => {\r\n        console.log('err', err);\r\n        reject()\r\n      })\r\n  })\r\n}\r\n"]},"metadata":{},"sourceType":"module"}